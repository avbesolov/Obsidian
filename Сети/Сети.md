#вопросы_с_собесов #сети

#### Что такое IP-адрес?  
IP-адрес (IP от англ. Internet Protocol) — цифровой идентификатор, присваиваемый устройству, которое работает в условиях публичной или локальной сети на основе стека протоколов TCP/IP.  
Он содержит информацию о местоположении устройства и обеспечивает его доступность для связи. IP-адреса позволяют различать компьютеры, маршрутизаторы и веб-сайты в интернете  
#### HTTP, или Протокол передачи гипертекста
это система правил для передачи файлов (текст, графика, изображения, звук, видео и другие мультимедийные файлы) в интернете. Когда вы вводите адрес веб-сайта в браузере, ваш браузер использует HTTP для запроса веб-страницы с сервера. Вот как это работает в основных шагах:

o   Клиент и Сервер: В контексте HTTP, клиент обычно является веб-браузером, который запрашивает ресурсы у сервера, который их хранит.

o   Запросы: Клиент отправляет запрос на сервер в формате, установленном протоколом HTTP. Этот запрос содержит тип операции (чаще всего это "GET" для получения данных или "POST" для их отправки), адрес (URL) и, возможно, дополнительные данные.

o   Ответы: Сервер получает запрос, обрабатывает его и затем отправляет ответ обратно клиенту. В ответе содержится статусная строка с кодом состояния (например, 200 для успеха, 404 для "Не найдено"), данные запрошенной страницы или сообщение об ошибке.

o   Безопасность: HTTPS — это защищённая версия HTTP, которая использует шифрование для повышения безопасности данных в процессе их передачи.  
  
HTTP является одним из основных протоколов интернета и используется для загрузки веб-страниц в браузере. Это безсостояний протокол, то есть сервер не сохраняет никаких данных о клиенте между запросами, хотя сейчас есть методы (например, cookies), которые позволяют сохранять контекст между различными сессиями.  
#### Коды ответа http
[https://developer.mozilla.org/ru/docs/Web/HTTP/Status](https://developer.mozilla.org/ru/docs/Web/HTTP/Status)  
#### Что такое маска подсети?
Определяет блок адресов сетки.  
Маска подсети помогает маршрутизатору понять, как и куда передавать пакет.  
#### Модель OSI
Сетевая модель представления данных. Состоит из 7 уровней:  

1. Физический – биты. Витая пара, usb, Bluetooth, wifi, 4g
2. Канальный – фреймы. Решает проблему адресации. Формирует фреймы с адресом отправителя. Коммутаторы. MAC-адреса
3. Сетевой уровень – маршрутизаторы (роутеры) – занимаются построением маршрута. ARP – преобразует мас-адреса в ip
4. Транспортный уровень – Транспортировка пакетов. TCP/UDP
5. Сеансовый уровень – сеансовый уровень отвечает за поддержку сеанса связи или сессии. Чистые данные
6. Уровень представления – представление данных + кодировка при необходимости
7. Прикладной уровень – данные. Графический интерфейс всей модели OSI. http, dns, ftp  
   
Одному устройству нужно отправить данные, другому – получить. Все, что происходит при отправке и приеме данных, детально описывает семиуровневая модель OSI.

От 7-ого к 1-ому – инкапсуляция. От 1-ого к 7-ому – декапсуляция  
#### Модель TCP/IP

1. Канальный - Информация здесь кодируется, делится на пакеты и отправляется по нужному каналу, т.е. среде передачи  
2. Межсетевой - Он регламентирует передачу информации по множеству локальных сетей, благодаря чему открывается возможность взаимодействия разных сетей.  
3. Транспортный - протоколы TCP и UDP, они занимаются доставкой информации.  
4. Прикладной **–** Приложения обмениваются друг с другом информацией  
Процесс, кодирования данных на прикладном уровне, передача их на транспортном, а затем на межсетевом и, наконец, на канальном уровне называется инкапсуляцией данных.  
#### Чем отличаются TCP и UDP?
TCP гарантирует получение и сборку информации у адресата в правильном порядке.  
Использовать UDP имеет смысл там, где потеря части информации не будет критичной для приложения, например, в видеоиграх или потоковой передаче видео.  
#### Зачем нужен порт и что означает термин сокет?
Порт — это числовой идентификатор, который используется для обеспечения коммуникации между различными программами и устройствами в компьютерной сети. Порты позволяют определить, к какому приложению должны быть направлены данные, поступающие на устройство.

Сокет (socket) — это программный интерфейс для передачи данных между различными процессами или устройствами в компьютерной сети. Сокеты позволяют обеспечить соединение между отправителем и получателем данных, а также управлять передачей информации между ними.
#### DNS (система доменных имен)
Чтобы не запоминать числовые адреса интернет-серверов была создана DNS — служба доменных имен. DNS всегда слушает на 53 порту и преобразует буквенные имена сетевых доменов в числовые IP-адреса и наоборот.  
 ![[1.png]]
  ![[Сети/images/2.png]]

#### DHCP
(Dynamic Host Configuration Protocol) — это сетевой протокол, который позволяет сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP.  
Протокол работает по модели «клиент-сервер». Для автоматической конфигурации компьютер-клиент обращается к серверу DHCP и получает от него нужные параметры. Сетевой администратор может задать диапазон адресов, распределяемых сервером среди компьютеров. Это позволяет избежать ручной настройки компьютеров сети и уменьшает количество ошибок.  
#### Что происходит, когда я ввожу адрес сайта в адресной строке браузера 
Когда вы вводите адрес сайта в адресной строке браузера и нажимаете "Enter", происходит процесс отправки HTTP-запроса на сервер, который хостит этот сайт. Сервер обрабатывает запрос, и в зависимости от его конфигурации и настроек, может выполнить различные действия, например, загрузить статическую веб-страницу или запустить скрипт для формирования динамического контента.  
  
1. Пользователь вводит в браузере адрес сайта  
2. Браузер начинает искать сервер  
3. Браузер отправляет запрос к DNS-серверам  
4. Браузер устанавливает соединение с сервером  
5. Браузер отправляет HTTP-запрос, чтобы получить контент сайта  
6. Сервер обрабатывает запрос  
7. Сервер отправляет ответ браузеру  
8. Браузер обрабатывает полученный ответ и «рисует» веб-страницу  
  
[https://vc.ru/selectel/76371-chto-proishodit-kogda-polzovatel-nabiraet-v-brauzere-adres-sayta](https://vc.ru/selectel/76371-chto-proishodit-kogda-polzovatel-nabiraet-v-brauzere-adres-sayta)   
#### HTTP

o   Отличия версий протокола
  
- HTTP 1.1 имеет обязательный заголовок Host по спецификации.  
  веб-сервер может различать разные сайты на одном сервере.
- HTTP 1.1 также позволяет вам иметь постоянные соединения
- HTTP 1.1, как правило, обновление ограничений HTTP 1.0
- HTTP 1.0 аутентификация небезопасна, поскольку она не зашифрована
- HTTP 1.1 безопасен, поскольку он использует контрольную сумму имени пользователя, пароля и одного значения времени.

o   Что такое headers и зачем нужны?  
HTTP-заголовки (HTTP Headers) — несколько строчек текста в определенном формате, которые либо уточняют запрос, либо описывают содержимое тела сообщения.

Заголовки содержат различную информацию о HTTP-запросе и вашем браузере  
#### TLS

o   ***Как работает ssl/tls?***
Во время TLS-рукопожатия две взаимодействующие стороны обмениваются сообщениями, чтобы подтвердить друг друга, проверить друг друга, установить алгоритмы шифрования, которые они будут использовать, и согласовать ключи сеанса.

TLS рукопожатие - это процесс установления безопасного соединения между вашим устройством (клиентом) и сервером, чтобы передавать данные зашифрованно и безопасно.

1. В начале клиент и сервер договариваются о способах шифрования и других параметрах безопасности.
2. Клиент проверяет сертификат сервера, чтобы убедиться, что он настоящий и принадлежит правильному серверу.
3. Клиент и сервер обмениваются случайными числами для создания общего кода, который будет использоваться для шифрования данных.
4. После обмена информацией о безопасности, клиент и сервер могут начать защищенную связь, где данные будут передаваться зашифрованными.

Этот процесс обеспечивает защищенное соединение между клиентом и сервером, чтобы уберечь ваши данные от прослушивания и уверенности в том, что они попадают в правильное место.

o   ***Приватный/публичный ключ и как они взаимодейтвуют?***
Имея приватный ключ можно получить связанные с ним публичные ключи. Но имея публичный ключ, узнать из него приватный ключ невозможно, потому что алгоритм вычисления публичного ключа работает только в одну сторону.

o   **_Можно ли иметь несколько разных сертов на одном IP-шнике?_**  
Дело в том, что сначала устанавливается TLS-соединение, а потом уже следом идет HTTP-протокол, а веб-сервер может определить, к какому сайту обращается клиент только по HTTP-протоколу, по хедеру хоста. Nginx еще не знает, к какому сайту обратились, но он уже должен отдать сертификат клиенту. Есть расширения для TLS-протокола, которые позволяют клиенту передать хостнейм серверу, к которому он обращается при попытке установить TLS-соединение. И таким образом выбирать нужный сертификат. Когда этого расширения не было, на одном IP-шнике можно было держать только один сайт с включенным SSL.  
#### Файл hosts  
hosts — это текстовый файл, в котором содержится база данных доменных имен сопоставляемая с их IP адресами  
Другими словами адрес любого домена первоначально имеет вид IP адреса. По одному ip адресу может находиться несколько виртуальных серверов, поэтому на одном ip может быть несколько сайтов. В hosts файле по умолчанию прописан лишь один ip адрес (127.0.0.1), который зарезервирован для localhost, т.е. для локального (именно вашего) компьютера.  
#### Как проверить доступность порта соседнего сервера?  
- `nmap 192.168.1.8 -p 22`
- `nc -zvw3 192.168.1.8 22`
- `telnet 192.168.1.9 22`  
#### Сколько ключей нужно для ассиметричного шифрования?
Два ключа (пара открытый — закрытый ключ),  
#### Сколько ключей нужно для симметричного шифрования?  
Один (секретный ключ)  
#### Утилита ip
ip — утилита для работы с маршрутизацией и параметрами сетевого интерфейса.

Вывод на экран имеющихся маршрутов выполняется командой: `ip route`

Несколько таблиц маршрутизации: **main, local и default** — предопределены. При отсутствии в параметрах команды **ip route** названия таблицы используется главная — **main**.

В **local** заносятся правила для локальных IP-адресов и широковещательных пакетов.

**default** — таблица, вначале не содержащая правил.
#### Какие http-коды ответа сигнализируют об ошибке клиента/клиентского запроса?

- Информационные 100 - 199
- Успешные 200 - 299
- Перенаправления 300 - 399
- Клиентские ошибки 400 - 499
- Серверные ошибки 500 – 599
#### Если сервер точно работает, но результат пинга вот такой: "100.0% packet loss" что это может означать?  
Означает, что он не принимает ICMP сообщения  
#### Настройка ротации логов в Linux
Для настройки ротации логов в Linux можно использовать утилиту Logrotate.

Основные настройки программы находятся в файле /etc/logrotate.conf, дополнительные настройки — в папке /etc/logrotate.d/.

Основные директивы управления и обработки логов:

- rotate — указывает, сколько старых логов нужно хранить;
- create — указывает, что необходимо создать пустой лог-файл после перемещения старого;
- dateext — добавляет дату ротации перед заголовком старого лога;
- compress — указывает, что лог необходимо сжимать;
- delaycompress — не сжимать последний и предпоследний журнал.

Проверку условий можно настроить ежедневно, еженедельно или ежемесячно  
#### Для чего нужен firewall  
Файрвол (Firewall) используется для обеспечения безопасности компьютерных сетей и защиты их от несанкционированного доступа, атак и других угроз.